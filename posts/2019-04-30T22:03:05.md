title: The Dharma of BuddhaBlog
tags: reinventing-the-wheel,static-site,react,gatsby,npm
date: 2019-04-30T22:03:05
author: Tim Sandberg
header: "https://d1u0z01nzsqzn7.cloudfront.net/images/buddhaz.jpg" # Replace this with a new image
----Content Below This Line----

So yeah, BuddhaBlog is reinventing the wheel kind of hard. There are a number of React-driven static site generators  (like [gatsby](https://www.gatsbyjs.org/)), but screw it-- I've had a lot of fun putting this thing together but it has gone ALL OVER THE PLACE. Lemme try and summarize the ground I've covered:

 - Refresh on publishing NPM packages, bumping versions, etc.
 - Coordinating two interdependent repositories using git submodules (for a while I had buddhablog-template as a submodule under buddhablog-cli).
 - Making a portable build configuration with webpack/babel in order to encapsulate all building responsibilities to the CLI (got very close but hit a wall and here we are).
 - Search Engine Optimization - TLDR of this is I realized I'd need to convert the different "virtual pages" served by react router to actual HTML documents to have proper SEO. For this I used a number of tools:
  - [react-helmet](https://github.com/nfl/react-helmet) "A document head manager for React" (meta tags/title, etc). Made by the NFL, lol.
  - [react-snap](https://github.com/stereobooster/react-snap) Static prerending for single page apps. From the README: *Pre-renders a web app into static HTML. Uses Headless Chrome to crawl all available links starting from the root. Heavily inspired by prep and react-snapshot, but written from scratch. Uses best practices to get the best loading performance.*

There's a lot more, I think, but it's already a crazy wall of text. The implementation has gone all over the place and I've left it in a sort of frankenstein state so I could pull in what works to this site and not feel blocked by the state of BuddhaBlog.

I still very much like the simple usage and purpose-built nature of it, not to mention being very familiar with everything happening under the hood to transpile the posts (and pages) markdown, generate dynamic SEO, generate static HTML.

It seems hilarious at the end of the day that all of this is just to generate static HTML, which could probably be done with about half the code in HTML and CSS, and just using the markdown parser for the blog posts.

My plan is to take a break from it, accomplish some short-term music-related goals, and come back to it and see what I can pare down, simplify, and fix.  Whew.